#!/usr/bin/env node

'use strict';

var supervisor = require('supervisor');
var reload = require('reload');
var path = require('path');

var testPath = process.argv[2] ? process.argv[2] : 'test';
var testsOnly = process.argv[3] && process.argv[3] === '--tests-only';
var watchPath = testsOnly ? testPath : path.join(__dirname, '../../../');


var args = ['-w', watchPath, '-q', '-i', path.join(__dirname, '../../../node_modules'), '--', path.join(__dirname, '../lib/watcher.js'), testPath, testsOnly];

supervisor.run(args);
var exec = require('child_process').exec;
var cmd = 'reload -b -s coverage.html';

exec(cmd, function(error, stdout, stderr) {

});
